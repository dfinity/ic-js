---
title: Upgrading to @icp-sdk/canisters
description: Upgrading guide for the new @icp-sdk/canisters package
sidebar:
  label: v1
  order: 1
prev: false
next:
  label: Overview
  link: /canisters/latest/
---

The new `@icp-sdk/canisters` package is organized into modules.

## Steps

1. Remove the following packages, if present:
   - `@dfinity/ckbtc`
   - `@dfinity/cketh`
   - `@dfinity/cmc`
   - `@dfinity/ic-management`
   - `@dfinity/ledger-icp`
   - `@dfinity/ledger-icrc`
   - `@dfinity/nns`
   - `@dfinity/sns`

   E.g.:

   ```shell
   npm remove @dfinity/ckbtc @dfinity/cketh @dfinity/cmc @dfinity/ic-management @dfinity/ledger-icp @dfinity/ledger-icrc @dfinity/nns @dfinity/sns
   ```

2. Install the new `@icp-sdk/canisters` package:

   ```bash
   npm install @icp-sdk/canisters
   ```

3. Replace old imports with new imports, if present:

   | Old Import               | New Import                         |
   | ------------------------ | ---------------------------------- |
   | `@dfinity/ckbtc`         | `@icp-sdk/canisters/ckbtc`         |
   | `@dfinity/cketh`         | `@icp-sdk/canisters/cketh`         |
   | `@dfinity/cmc`           | `@icp-sdk/canisters/cmc`           |
   | `@dfinity/ic-management` | `@icp-sdk/canisters/ic-management` |
   | `@dfinity/ledger-icp`    | `@icp-sdk/canisters/ledger/icp`    |
   | `@dfinity/ledger-icrc`   | `@icp-sdk/canisters/ledger/icrc`   |
   | `@dfinity/nns`           | `@icp-sdk/canisters/nns`           |
   | `@dfinity/sns`           | `@icp-sdk/canisters/sns`           |

   E.g.:

   ```typescript
   - import { CkETHMinterCanister } from "@dfinity/cketh";
   + import { CkETHMinterCanister } from "@icp-sdk/canisters/cketh";
   ```

## Troubleshooting

### TypeScript `moduleResolution`

If you're using TypeScript, you need to set the [`moduleResolution`](https://www.typescriptlang.org/tsconfig/#moduleResolution) to either `node16`, `nodenext` or `bundler` in your `tsconfig.json` file.

```json
{
  "compilerOptions": {
    "moduleResolution": "node16"
  }
}
```

See also [`@icp-sdk/core`'s documentation](https://js.icp.build/core/latest/typescript) for more information.

### Installing with pnpm or yarn

If you're installing with pnpm or yarn, you need to install the peer dependencies of `@icp-sdk/canisters` manually:

```shell
pnpm install @dfinity/ckbtc @dfinity/cketh @dfinity/cmc @dfinity/ic-management @dfinity/ledger-icp @dfinity/ledger-icrc @dfinity/nns @dfinity/sns @dfinity/utils @icp-sdk/core
```

```shell
yarn add @dfinity/ckbtc @dfinity/cketh @dfinity/cmc @dfinity/ic-management @dfinity/ledger-icp @dfinity/ledger-icrc @dfinity/nns @dfinity/sns @dfinity/utils @icp-sdk/core
```
